<meta name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">

<!-- Telegram WebApp SDK (не критично, но улучшает встраивание) -->
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
  /* Базовый reset для мобилок и телеграм-клиента */
  html, body {
    width: 100%;
    height: 100%;
    overflow-x: hidden;       /* убирает горизонтальный скролл */
    -webkit-text-size-adjust: 100%;
    touch-action: manipulation;
    overscroll-behavior: none;
    background: #5e55b3;      /* запасной фон под градиент */
  }

  /* Контейнер ограничиваем и центрируем; на мобильных — полная ширина */
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: clamp(12px, 2.8vw, 20px);
  }

  /* Сетка категорий и карточек: безопасные размеры без выпадения за край */
  .categories {
    display: grid;
    grid-template-columns: repeat(4, minmax(140px, 1fr));
    gap: clamp(10px, 2vw, 20px);
  }

  .category-card {
    padding: clamp(12px, 2.2vw, 24px);
    border-radius: 14px;
  }

  .category-icon { font-size: clamp(22px, 5.5vw, 36px); }
  .category-title { font-size: clamp(12px, 3.6vw, 18px); }

  .search-box { max-width: min(680px, 100%); margin: clamp(10px, 2.5vw, 24px) auto; }
  .search-input {
    width: 100%;
    padding: clamp(12px, 3.6vw, 18px) clamp(14px, 3.8vw, 20px);
    border-radius: 999px;
    font-size: clamp(14px, 3.8vw, 16px);
  }
  .search-button {
    padding: clamp(8px, 2.8vw, 12px) clamp(14px, 3.8vw, 24px);
    font-size: clamp(12px, 3.8vw, 14px);
    border-radius: 999px;
  }

  .films-grid {
    display: grid;
    grid-template-columns: repeat(6, minmax(180px, 1fr));
    gap: clamp(10px, 2vw, 24px);
  }

  .film-card { border-radius: 14px; }
  .film-poster {
    width: 100%;
    height: clamp(200px, 46vw, 300px);
    object-fit: cover;
  }
  .film-title { font-size: clamp(12px, 3.6vw, 16px); }
  .film-details { font-size: clamp(11px, 3.2vw, 14px); }

  /* Плеер с учетом safe-area (вырез iPhone) */
  .player-container {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
  .player-header {
    padding: clamp(8px, 2.5vw + env(safe-area-inset-top), 16px) clamp(10px, 3vw, 20px);
  }
  .close-button { font-size: clamp(13px, 3.8vw, 16px); }

  /* Телефонный портрет: 1 колонка карточек, компактные кнопки */
  @media (max-width: 480px) {
    .categories {
      grid-template-columns: repeat(2, 1fr);
    }
    .films-grid {
      grid-template-columns: repeat(2, 1fr);
    }
    .film-poster { height: 46vw; }
    .header h1 { font-size: 20px; }
  }

  /* Небольшие мобильные/внутри Telegram WebApp */
  @media (max-width: 360px) {
    .categories {
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    .films-grid {
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
  }

  /* Планшеты */
  @media (min-width: 481px) and (max-width: 900px) {
    .categories {
      grid-template-columns: repeat(3, 1fr);
    }
    .films-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* Телеграм-темная тема (если SDK передаст тему) */
  :root {
    --tg-bg: var(--tg-theme-bg-color, #5e55b3);
    --tg-text: var(--tg-theme-text-color, #ffffff);
  }
  body { background: var(--tg-bg); color: var(--tg-text); }
</style>
